function auto_pendepth()

%Mason Sand
x1 = [0,53.27;
    -0.02,38.36;
    -0.02,33.88;
    0,60.88;
    0.02,43.91;
    0.02,37.04;
    -0.02,43.64;
    0,33.84;
    0,28.50;
    0.02,32.04];

x2 = [0.07,57.75;
    0.05,63.41;
    0.03,57.62;
    0.07,55.33;
    0.03,63.67;
    0.05,66.84;
    0.05,52.20;
    0.07,61.39;
    0.05,60.48;
    0.05,56.08];

x3 = [0.10,63.48;
    0.10,82.52;
    0.10,88.67;
    0.08,66.89;
    0.12,66.61;
    0.08,62.14;
    0.10,65.57;
    0.10,72.05;
    0.09,65.26;
    0.10,78.83];

x4 = [0.13,97.19;
    0.15,86.9;
    0.17,88.36;
    0.14,84.49;
    0.16,86.90;
    0.14,87.04;
    0.15,82.21;
    0.17,87.77;
    0.16,83.44;
    0.14,81.66];

x5 = [0.38,90.14;
    0.40,89.67;
    0.42,90.98;
    0.41,87.23;
    0.39,99.74;
    0.38,98.59;
    0.40,99.49;
    0.42,96.11;
    0.41,99.09;
    0.39,89];

x6 = [0.78,98.4;
    0.80,107.1;
    0.82,107.86;
    0.81,102.42;
    0.79,102.41;
    0.78,111.11;
    0.80,105.21;
    0.82,111.49;
    0.81,110.53;
    0.79,109.01];

figure(1);
h1 = [0,sum(x1(:,2))/10,std(x1(:,2));
    0.05,sum(x2(:,2))/10,std(x2(:,2));
    0.10,sum(x3(:,2))/10,std(x3(:,2));
    0.15,sum(x4(:,2))/10,std(x4(:,2));
    0.40,sum(x5(:,2))/10,std(x5(:,2));
    0.80,sum(x6(:,2))/10,std(x6(:,2))];

% plot (x1(:,1),x1(:,2),'kO','MarkerSize',2,'MarkerEdgeColor',[0 0 0],'MarkerFaceColor', [1 0 1]);
% hold on;
% plot (x2(:,1),x2(:,2),'kO','MarkerSize',2,'MarkerEdgeColor',[0 0 0],'MarkerFaceColor', [1 0 1]);
% hold on;
% plot (x3(:,1),x3(:,2),'kO','MarkerSize',2,'MarkerEdgeColor',[0 0 0],'MarkerFaceColor', [1 0 1]);
% hold on;
% plot (x4(:,1),x4(:,2),'kO','MarkerSize',2,'MarkerEdgeColor',[0 0 0],'MarkerFaceColor', [1 0 1]);
% hold on;
% plot (x5(:,1),x5(:,2),'kO','MarkerSize',2,'MarkerEdgeColor',[0 0 0],'MarkerFaceColor', [1 0 1]);
% hold on;
% plot (x6(:,1),x6(:,2),'kO','MarkerSize',2,'MarkerEdgeColor',[0 0 0],'MarkerFaceColor', [1 0 1]);
% hold on;
%River Sand
a1 = [0.98,35.82;
    1,44.57;
    1.02,60.35;
    1.01,32.74;
    0.99,39.96;
    0.98,55.49;
    1,26.55;
    1.02,36.97;
    1.01,46.02;
    0.99,44.17];

a2 = [1.98,62.42;
    2,64.42;
    2.02,55.73;
    1.99,33.7;
    2.01,43.64;
    1.98,38.69;
    2,47.34;
    2.02,35.46;
    2.01,48.01;
    1.99,36.32];

a3 = [2.99,64.88;
    2.98,44.14;
    3.02,45.09;
    3.01,47.89;
    3.02,49.02;
    3.01,42.99;
    2.99,46.83;
    2.98,48.22;
    3,47.15;
    3,49.3];

a4 = [4,67.4;
    4,63.63;
    4.02,56.81;
    4.02,59.79;
    3.98,72.19;
    3.98,58.39;
    3.99,64.72;
    3.99,72.99;
    4.01,61.68;
    4.01,63.86];

a5 = [5,87.28;
    5,75.3;
    5.02,84.19;
    5.01,72.84;
    5.02,87.64;
    5.01,86.74;
    4.98,77.69;
    4.98,72.91;
    4.99,84.98;
    4.99,77];

a6 = [6,99.48;
    6,89.33;
    6.02,98.24;
    6.01,90.8;
    6.01,95.51;
    6.02,96.37;
    5.98,100.67;
    5.98,96.29;
    5.99,91.59;
    5.99,87.93];

h2 = [0,sum(a1(:,2))/10,std(a1(:,2));
    0.05,sum(a2(:,2))/10,std(a2(:,2));
    0.10,sum(a3(:,2))/10,std(a3(:,2));
    0.15,sum(a4(:,2))/10,std(a4(:,2));
    0.40,sum(a5(:,2))/10,std(a5(:,2));
    0.80,sum(a6(:,2))/10,std(a6(:,2))];
%Coarse Sand
b1 = [1,53.64;
    1,48.36;
    1.02,44.42;
    1.02,50.69;
    1.01,57.78;
    1.01,53.33;
    0.98,41.88;
    0.98,43.88;
    0.99,52.47;
    0.99,40.95];

b2 = [2,71.79;
    2,67.52;
    2.02,58.11;
    1.98,59.18;
    2.02,59.1;
    2.02,62.26;
    2.01,72.3;
    1.98,53.18;
    1.99,61.19;
    1.99,69.25];

b3 = [3,65.03;
    3,74.02;
    3.02,63.07;
    3.01,61.69;
    3.02,74.95;
    3.01,64.5;
    2.98,73.94;
    2.98,62.84;
    2.99,74.85;
    2.99,67.15];

b4 = [4,74.27;
    4,70.07;
    4.02,71.4;
    4.02,77.11;
    4.01,72.21;
    4.01,69.7;
    3.98,76.49;
    3.98,73.24;
    3.99,70;
    3.98,68.98];

b5 = [5,84.46;
    5.02,85.11;
    5,82.96;
    5.02,92.11;
    5.01,83.57;
    4.98,82.73;
    4.99,82.33;
    5.01,78.66;
    4.99,84.53;
    4.98,77.81];

b6 = [6,90.64;
    6,87.33;
    6.02,100.77;
    6.02,97.74;
    6.01,87.39;
    6.01,97.24;
    5.98,88.49;
    5.98,98.62;
    5.99,90.32;
    5.99,97.03];

h3 = [0,sum(b1(:,2))/10,std(b1(:,2));
    0.05,sum(b2(:,2))/10,std(b2(:,2));
    0.10,sum(b3(:,2))/10,std(b3(:,2));
    0.15,sum(b4(:,2))/10,std(b4(:,2));
    0.40,sum(b5(:,2))/10,std(b5(:,2));
    0.80,sum(b6(:,2))/10,std(b6(:,2))];

%Top Soil
c1 = [0.98,0;
    0.99,0;
    1,0;
    1.01,0;
    1.02,0;
    0.98,0;
    0.99,0;
    1,0;
    1.01,0;
    1.02,0];

c2 = [2,43.03;
    2.02,39.01;
    2.01,41.89;
    1.97,41.05;
    1.98,42.95;
    2.02,42.35;
    2,39.19;
    1.97,48.83;
    1.98,39.37;
    1.99,41.91];

c3 = [3,40.87;
    3,47.68;
    3.02,42.88;
    3.01,40.97;
    3.03,42.22;
    3.02,40.06;
    2.99,40.81;
    2.98,41.45;
    2.97,40.81;
    2.97,38.14];

c4 = [4,38.49;
    4.02,39.25;
    4,41.61;
    4.02,36.73;
    4.01,45.13;
    4.01,40.95;
    3.97,40.33;
    3.97,43.57;
    3.98,44.04;
    3.99,44.86];

c5 = [5,56.17;
    5.02,58.41;
    5,67.99;
    5.02,43.17;
    5.01,54.17;
    5.01,64.65;
    4.98,56.52;
    4.98,60.97;
    4.99,61.58;
    4.99,51.61];

c6 = [6,73.58;
    6,66.63;
    6.02,67.81;
    6.02,77.95;
    6.01,79.93;
    5.98,80.7;
    5.99,81.54;
    6.01,71.59;
    5.98,68.1;
    5.99,74.29];

h4 = [0,sum(c1(:,2))/10,std(c1(:,2));
    0.05,sum(c2(:,2))/10,std(c2(:,2));
    0.10,sum(c3(:,2))/10,std(c3(:,2));
    0.15,sum(c4(:,2))/10,std(c4(:,2));
    0.40,sum(c5(:,2))/10,std(c5(:,2));
    0.80,sum(c6(:,2))/10,std(c6(:,2))];


d1 = [40 30;
    35 45;
    35 45;
    30 40;
    0  90;
    45 30;
    30 45;
    30 45;
    0  90;
    45 35;
    0  90;
    0  90];

d2 = [70 10;
    55 25;
    65 15;
    0  90;
    70 10;
    50 20;
    50 20;
    55 15;
    65 30;
    70 05;
    70 05;
    70 00];

d3 = [70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    60 15;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00];

d4 = [70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00];

h5  =[ 0, 0, 0;
    10,sum(d1(:,1))/12,std(d1(:,1));
    15,sum(d2(:,1))/12,std(d2(:,1));
    20,sum(d3(:,1))/12,std(d3(:,1));
    25,sum(d4(:,1))/12,std(d4(:,1))];

e1 =[30 05;
    35 30;
    20 25;
    00 90;
    00 90;
    30 25;
    35 25;
    00 90;
    30 25;
    00 90;
    30 30;
    00 90];

e2 = [35 05;
    30 05;
    25 10;
    30 15;
    30 05;
    25 25;
    00 90;
    35 10;
    35 10;
    30 10;
    30 15;
    00 90];

e3 = [45 05;
    50 00;
    45 05;
    50 00;
    55 00;
    45 00;
    55 00;
    45 00;
    40 05;
    45 00;
    55 00;
    50 05];

e4 = [55 00;
    55 00;
    60 00;
    55 00;
    60 00;
    60 00;
    55 00;
    60 00;
    60 00;
    60 00;
    55 00;
    55 00];

h6  =[0, 0, 0;
    10,sum(e1(:,1))/12,std(e1(:,1));
    15,sum(e2(:,1))/12,std(e2(:,1));
    20,sum(e3(:,1))/12,std(e3(:,1));
    25,sum(e4(:,1))/12,std(e4(:,1))];


f1 = [40 30;
    30 30;
    40 45;
    00 90;
    30 45;
    25 30;
    25 30;
    00 90;
    40 25;
    30 25;
    00 90;
    00 90];

f2 = [60 00;
    60 00;
    55 00;
    65 00;
    55 20;
    70 00;
    60 05;
    60 10;
    60 00;
    65 05;
    65 05;
    70 10];

f3 = [70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00];

f4 = [70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00;
    70 00];

h7  =[0, 0, 0;
    10,sum(f1(:,1))/12,std(f1(:,1));
    15,sum(f2(:,1))/12,std(f2(:,1));
    20,sum(f3(:,1))/12,std(f3(:,1));
    25,sum(f4(:,1))/12,std(f4(:,1))];

h1d1 = [h1(end,1),100];
h1d2 = [h1(end,2),h1(end,2)];
h2d1 = [h2(end,1),100];
h2d2 = [h2(end,2),h2(end,2)];
h3d1 = [h3(end,1),100];
h3d2 = [h3(end,2),h3(end,2)];
h4d1 = [h4(end,1),100];
h4d2 = [h4(end,2),h4(end,2)];

% DO ALL PLOTTING
figure(2);clf;
lw = 1.5;
c= lines(8);
subplot(1,9,[1,3]);
plot (h1(:,1),h1(:,2),'o','color',c(1,:),'LineWidth',1);
hold on;
plot (h2(:,1),h2(:,2),'o','color',c(2,:),'LineWidth',1);
plot (h3(:,1),h3(:,2),'o','color',c(3,:),'LineWidth',1);
plot (h4(:,1),h4(:,2),'o','color',c(4,:),'LineWidth',1);
plot (h5(:,1),h5(:,2),'LineWidth',lw,'color',c(5,:));
plot (h6(:,1),h6(:,2),'LineWidth',lw,'color',c(6,:));
plot (h7(:,1),h7(:,2),'LineWidth',lw,'color',c(7,:));

plot(h1d1,h1d2,'--','color',c(1,:),'LineWidth',1);
plot(h2d1,h2d2,'--','color',c(2,:),'LineWidth',1);
plot(h3d1,h3d2,'--','color',c(3,:),'LineWidth',1);
plot (h4d1,h4d2,'--','color',c(4,:),'LineWidth',1);

errorbar(h1(:,1)-.005,h1(:,2),h1(:,3),'-','LineWidth',lw,'color',c(1,:));
errorbar(h2(:,1)-.003,h2(:,2),h2(:,3),'-','LineWidth',lw,'color',c(2,:));
errorbar(h3(:,1),h3(:,2),h3(:,3),'-','LineWidth',lw,'color',c(3,:));
errorbar(h4(:,1)+.003,h4(:,2),h4(:,3),'-','LineWidth',lw,'color',c(4,:));
axis([-.05,.9,0,120])
xlabel('Drop Height (m)');
ylabel('Penetration Depth (mm)');
setGCA()



subplot(1,9,[4,9]);
l1=plot(h1d1,h1d2,'--','color',c(1,:),'LineWidth',1);
hold on;
l2=plot(h2d1,h2d2,'--','color',c(2,:),'LineWidth',1);
l3=plot(h3d1,h3d2,'--','color',c(3,:),'LineWidth',1);
l4=plot (h4d1,h4d2,'--','color',c(4,:),'LineWidth',1);
plot (h5(:,1),h5(:,2),'o','color',c(5,:),'LineWidth',1);
plot (h6(:,1),h6(:,2),'o','color',c(6,:),'LineWidth',1);
plot (h7(:,1),h7(:,2),'o','color',c(7,:),'LineWidth',1);
l5=errorbar(h5(:,1)-.1,h5(:,2),h5(:,3),'-','LineWidth',lw,'color',c(5,:));
l6=errorbar(h6(:,1),h6(:,2),h6(:,3),'-','LineWidth',lw,'color',c(6,:));
l7=errorbar(h7(:,1)+.1,h7(:,2),h7(:,3),'-','LineWidth',lw,'color',c(7,:));
axis([2,26,0,120])
xlabel( 'Drop Height (m)');
%ylabel 'Penetration Depth (mm)';
%legend('Mason Sand','River Sand','Coarse Sand', 'Top soil','soil 1','soil 2','clay','location','best')
% l5 (Grass Field) is a lawn area with about half foot of grass after the rain, 0.15m 
% l6 (Intramural Field) is the intramural soccer field,
% l7 (Lawn)  lawn area near the intramural soccer field where the ground is a bit software and the grass not as dense/high. They are numbered in order ground1, ground2 and ground3 in the data files.

legend([l1,l2,l3,l4,l7,l5,l6], ...
'0.099 kg/sq. cm','0.056 kg/sq. cm','0.089 kg/sq. cm', '0.135 kg/sq. cm','1.75 kg/sq. cm','3 kg/sq. cm','4 kg/sq. cm','location','NorthWest')
set(gca,'YTickLabel','','YMinorTick'  , 'off'   )
setGCA()


 set(gcf,'PaperUnits','inches')
set(gcf,'papersize',[8.5,3.5])
set(gcf,'paperposition',[-0.7,0,10,3.5])
print -dpdf 'AutoPenetrationDepth.pdf'

function setGCA() % http://blogs.mathworks.com/loren/2007/12/11/making-pretty-graphs/#5
set( gca                       , ...
    'FontName'   , 'Helvetica','FontSize'   , 8  );
set(gca, ...
  'Box'         , 'off'     , ...
  'TickDir'     , 'in'     , ...
  'TickLength'  , [.02 .02] , ...
  'XMinorTick'  , 'off'      , ...
  'YMinorTick'  , 'on'      , ...
  'YGrid'       , 'on'      , ...
  'XColor'      , [.3 .3 .3], ...
  'YColor'      , [.3 .3 .3], ...
  'YTick'       , 0:10:120, ...
  'LineWidth'   , 1         );
